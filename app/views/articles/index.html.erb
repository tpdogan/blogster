<section class="section">
  <div class="container">
    <div class="tile is-ancestor">
      
      <% @articles.each_with_index do |article, index| %>
        <%# Size of the articles alternates at each row %>
        <% size = [2,3].include? index % 6 ? 1 : 2 %>
        <% start = [0,4].include? index % 6 ? true : false %>
        <% finish = [1,5].include? index % 6 ? true : false %>

        <%# Check if double row should start %>
        <% if start %><div class='<%= "tile is-vertical is-parent is-8 article" %>'><% end %>

        <%# Depending on the size change style %>
        <% if size == 2 %>
          <article class="tile is-child article">
            <img class='article__image' src=<%= article.image %> alt=<%= article.title %>>
            <div class='article__inner'>
              <div class='article__title'><%= article.title %></div>
              <div class='article__body'><%= article.body %></div>
            </div>
          </article>
        <% else %>
          <article class="tile is-parent is-4 article">
            <img class='article__image' src=<%= article.image %> alt=<%= article.title %>>
            <div class='article__inner'>
              <div class='article__title'><%= article.title %></div>
              <div class='article__body'><%= article.body %></div>
            </div>
          </article>
        <% end %>

        <%# Check if double row should end %>
        <% if finish %></div><% end %>
      <% end %>

      <%# Check if double row may not ended properly %>
      <% if [1,5].include? @articles.length % 6 %></div><% end %>

    </div>
  </div>
</section>